"use strict";(self["webpackChunkwebview"]=self["webpackChunkwebview"]||[]).push([[938],{5938:function(t,s,a){a.r(s),a.d(s,{default:function(){return C}});var i=function(){var t=this,s=t._self._c;return s("div",{staticClass:"cart"},[s("div",{staticClass:"head"},[s("van-nav-bar",{attrs:{title:"购物车","left-text":"返回","left-arrow":""},on:{"click-left":function(s){return t.$router.replace("/")}}})],1),s("div",{staticClass:"list"},[t._l(t.cart,(function(i,c){return s("div",{key:c,staticClass:"item"},[s("img",{staticClass:"img",attrs:{src:i.images[0],alt:""}}),s("div",{staticClass:"info"},[s("h4",{staticClass:"name"},[t._v(t._s(i.name))]),s("div",{staticClass:"price"},[s("span",{staticClass:"unit"},[t._v("￥")]),s("span",{staticClass:"value"},[t._v(t._s(i.price))])]),s("div",{staticClass:"item-bottom"},[s("div",{staticClass:"amount"},[s("span",{staticClass:"reduce",on:{click:function(s){return t.changeAmount("reduce",i.id)}}},[t._v("-")]),s("span",{staticClass:"num"},[t._v(t._s(i.amount))]),s("span",{staticClass:"add",on:{click:function(s){return t.changeAmount("add",i.id)}}},[t._v("+")])]),s("img",{staticClass:"del",attrs:{src:a(74206)},on:{click:function(s){return t.del(i.id)}}})])])])})),0==t.cart.length?s("div",{staticClass:"null"},[s("img",{staticClass:"icon",attrs:{src:a(71681),alt:""}}),s("span",[t._v("购物车空空如也~~")]),s("div",{staticClass:"btn",on:{click:function(s){return t.$router.replace("/")}}},[t._v("去选购")])]):t._e()],2),t.cart.length>0?s("div",{staticClass:"bottom-box"},[s("div",{staticClass:"bottom"},[s("div",{staticClass:"total"},[s("span",{staticClass:"amount"},[t._v("共"),s("span",{staticClass:"value"},[t._v(t._s(t.cart.length))]),t._v("件商品")]),s("span",{staticClass:"price"},[t._v("合计："),s("span",{staticClass:"unit"},[t._v("￥")]),s("span",{staticClass:"value"},[t._v(t._s(t.totalPrice))])])]),s("div",{staticClass:"pay",on:{click:t.showPayWay}},[t._v("结算")]),s("van-popup",{attrs:{round:"",position:"bottom","get-container":"body"},model:{value:t.showWay,callback:function(s){t.showWay=s},expression:"showWay"}},[s("div",{staticClass:"pay-way"},[s("div",{staticClass:"title"},[t._v("请选择支付方式")]),s("div",{staticClass:"way"},[s("div",{staticClass:"item",on:{click:function(s){return t.pay("ks")}}},[s("img",{staticClass:"icon",attrs:{src:a(24107),alt:""}}),s("span",[t._v("快币支付")]),s("span",{staticClass:"discount"},[t._v("(9.5折)")])]),s("div",{staticClass:"item",on:{click:function(s){return t.pay("wx")}}},[s("img",{staticClass:"icon",attrs:{src:a(45478),alt:""}}),s("span",[t._v("微信支付")])]),s("div",{staticClass:"item",on:{click:function(s){return t.pay("ali")}}},[s("img",{staticClass:"icon",attrs:{src:a(40473),alt:""}}),s("span",[t._v("支付宝支付")])])])])])],1)]):t._e()])},c=[],e=a(15527),n=a(70643),l=a(22648),o={name:"VueCart",computed:{cart(){const t=this.$store.state.cart||[],s=t.map((t=>{const s=(0,e.N)(t.id);return{...t,...s}}));return s},totalPrice(){let t=0;for(let s of this.cart)t+=Number(s.price)*s.amount;return t.toFixed(2)}},data(){return{showWay:!1,env:""}},mounted(){this.env=(0,l.h)()},methods:{changeAmount(t,s){"add"==t&&this.$store.dispatch("addCart",s),"reduce"==t&&this.$store.dispatch("reduceCart",s)},del(t){this.$store.dispatch("removeCart",t)},showPayWay(){this.$dialog.confirm({message:"为庆祝桔色商城入驻快手3周年，桔色联合快手支付推出9.5折优惠活动，快手邀请您体验快币支付",showCancelButton:!1}),this.showWay=!0},tip(t){this.$dialog.alert({message:`请用${"wx"==t?"微信":"支付宝"}扫码进入商城选购`})},async pay(t){if("wx"!=this.env&&"wx"==t)this.tip(t);else if("ali"!=this.env&&"ali"==t)this.tip(t);else{this.showWay=!1;const s=this.$toast.loading({message:"正在支付",forbidClick:!0,duration:0}),a="ks"==t?parseInt(.95*this.totalPrice):parseInt(this.totalPrice),i=await(0,n.k)(a);s.clear(),i?window.location.href=i:this.$toast.loading({message:"支付失败，请重试",forbidClick:!0})}}}},r=o,u=a(43736),d=(0,u.Z)(r,i,c,!1,null,"0f0aa8a3",null),C=d.exports},74206:function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAAXNSR0IArs4c6QAAA5BJREFUeF7tW82KE0EQ7ppxEbyIZ0F3D3v0EcJsT4NIQASvHnbzBCLieXfvIr7B7sG7F0/CdEdBwScQRDC+gIJ4yGlKKjsJkzHT3bOpmSSbHsglzFRXfV0/3V9Xg2jpMcbsCiHot/QjpRwuLaRGAHALJsMR8UwIccAsewQAUko54pTLCoAx5gARDaeCFVnsILACoLUm47lnfg4DRDxXSg24QOYGAKeKAcCJlPKUQ9Esy44AgMKKnlGapnscckkGGwBF7P8oAbDHFa9V2WmasunNJigAcJH9gweUYpOzXM2tJ1oJgSzL7kdR9BIR79UkmJ+OxHNNCHGbKzk55Lh0uWv5/kscx4MkSb7OJUFjzDdE3O/IgJUOg4jvlFIP5wDIsuw1ADxdqWbdDf48TdNX/5VBY8wDRLzRnR7djxTH8d8kSd7PynX3KqzXiGzrgPUyy1+bAIA/VlfzzeABdfNKe/s8zw8BgIXVWaX/AMCgbmNW6wFd7O07BGWYpqlcNJ4NANrYbPzsF0bXcgheABALE0UR5+am9cnP83wXAI5YACjIyNaY2TbQqPCTy3lAAOCCjg4e0IartiUzhMD8GUXIAXVUulcZ9EmCxN2TO0dRNGxCh2utXyDiJ6XUZ59woHGoJLtyUqchUKbEmxyIaK3fCCGeTJgZgH0p5XcbCMaYY0Q8Kd63njt0DcBMMSFE7bKzapzWeiyEuE7/I+JjpdRbGwDl5bkL6E0BYHaUtq0AEL19Z5s9IAAQPCCEQMgBIQmGKrDFC6FQBkMZDGUwlMFQBkMZ3OIyuPV8wHYDYIz5hYi3rkIOmN0TcHF1Zc5Pa02tas/ov/F4fLPf7/9ZS1IUEQdKqXOHcpN7Ai66egEx+mhnZ+djr9f77UOLE9lJLfMu6t23xd6rQaLJrPoY0cU7ZQrddsfACwDuWxpdAJBl2VmpP6B5h4ivgC6MucwYvmcItR5QiSE6uWG7AXIZg5p8s+DyRu3xvrVNTms96xPapDxQiX9hu19gBaASBhvhBQtm33p5ywpAIYyuwk27xUaIeOoqiU3clfPdatj6HKI6O0Wr7lQoPAQAuhI36Rxz1WROI6uyioZO6gg7rN5Z9AlbJwA0YA0IZV1W1UJX28foY/zEQ3xnp3Cv401onvRp6Jja7Q3A9IMCCHI3ttvhvpNge48Wa0KID03zU2MAykoU6/LJX9SZyWFIExlF96pzX2CT+Q8euqZ910aGbgAAAABJRU5ErkJggg=="},71681:function(t,s,a){t.exports=a.p+"static/img/null.ab606621.png"}}]);